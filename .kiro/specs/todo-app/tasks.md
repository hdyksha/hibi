# 実装計画

## フェーズ1: 基本的なTodo機能（MVP）

- [x] 1. プロジェクト構造の初期セットアップ





  - 基本的なディレクトリ構造を作成（server、client）
  - package.jsonファイルの作成
  - TypeScript設定の基本セットアップ
  - テスト環境の基本セットアップ（Jest/Vitest）
  - _要件: 1.1, 1.2_

- [ ] 2. シンプルなバックエンドAPIの実装
  - [x] 2.1 Express.jsサーバーの基本セットアップ





    - Express.jsサーバーの最小構成
    - CORS設定とJSON解析ミドルウェア
    - サーバー起動の動作確認テスト
    - _要件: 1.1, 1.2_

  - [x]2.2 基本的 なTodoデータモデルの定義





    - TodoItemインターフェースの定義（id、title、completed、createdAtのみ）
    - 基本的なバリデーション関数
    - バリデーション関数の単体テスト
    - _要件: 1.3, 1.4, 1.5, 1.6_

  - [x] 2.3 シンプルなJSONファイルストレージの実装





    - ファイル読み書きの基本機能
    - 簡単なエラーハンドリング
    - ストレージ機能の単体テスト
    - _要件: 1.2, 3.3_

- [ ] 3. 基本的なCRUD APIの実装
  - [x] 3.1 Todo作成API（最小機能）





    - POST /api/todos エンドポイント
    - タイトルのみでtodo作成
    - 一意ID生成と作成日時の自動設定
    - API動作確認テスト（正常系・異常系）
    - _要件: 1.1, 1.2, 1.3, 1.4, 1.5, 1.6_

  - [x] 3.2 Todo一覧取得API





    - GET /api/todos エンドポイント
    - 全てのtodoアイテムを返す（フィルタリングなし）
    - API動作確認テスト
    - _要件: 2.1, 2.2_

  - [x] 3.3 Todo完了状態切り替えAPI





    - PUT /api/todos/:id エンドポイント
    - completedフィールドの切り替えのみ
    - 更新日時の自動設定
    - API動作確認テスト
    - _要件: 3.1, 3.2, 3.3_

  - [x] 3.4 Todo削除API





    - DELETE /api/todos/:id エンドポイント
    - 永続的削除
    - API動作確認テスト
    - _要件: 4.1, 4.2, 4.3_

- [ ] 4. シンプルなフロントエンドの実装
  - [x] 4.1 React + TypeScript + Viteプロジェクトの初期化





    - Reactアプリケーションの最小構成
    - TypeScript設定
    - テスト環境の設定（React Testing Library）
    - _要件: 全般_

  - [x] 4.2 基本的なAPIクライアントの実装





    - fetch APIを使用したHTTPクライアント
    - 基本的なエラーハンドリング
    - APIクライアントの単体テスト
    - _要件: 全般_

  - [x] 4.3 シンプルなTodoリストコンポーネント





    - todoアイテムの一覧表示
    - 完了状態の切り替えボタン
    - 削除ボタン
    - コンポーネントの基本動作テスト
    - _要件: 2.1, 2.2, 2.3, 3.1, 3.2, 4.1, 4.3_

  - [x] 4.4 基本的なTodo作成フォーム





    - タイトル入力フィールド
    - 作成ボタン
    - 基本的なバリデーション
    - フォーム動作の確認テスト
    - _要件: 1.1, 1.2, 1.3_

- [ ] 5. 基本機能の統合とテスト
  - [x] 5.1 フロントエンドとバックエンドの接続





    - API呼び出しの実装
    - 状態管理の基本実装
    - 統合動作確認テスト（CRUD操作の一連の流れ）
    - _要件: 全般_

  - [x] 5.2 基本的なスタイリング





    - 最小限のCSS
    - 完了済みアイテムの視覚的区別
    - UI表示の確認テスト
    - _要件: 2.3_

## フェーズ2: 優先度とタグ機能の追加

- [ ] 6. 優先度機能の実装
  - [x] 6.1 データモデルに優先度フィールドを追加





    - priorityフィールドの追加
    - デフォルト値の設定
    - 優先度データモデルの単体テスト
    - _要件: 6.1, 6.2_

  - [x] 6.2 優先度選択UIの実装





    - 作成フォームに優先度選択を追加
    - 編集機能の実装
    - 優先度による視覚的区別
    - 優先度機能の動作確認テスト
    - _要件: 6.1, 6.2, 6.3, 6.4_

- [ ] 7. タグ機能の基本実装
  - [x] 7.1 データモデルにタグフィールドを追加





    - tagsフィールドの追加
    - タグ管理の基本機能
    - タグ機能の単体テスト
    - _要件: 7.1_

  - [x] 7.2 タグ入力UIの実装





    - タグ追加・削除機能
    - 既存タグの表示
    - タグUI機能の動作確認テスト
    - _要件: 7.1, 7.2, 7.3, 7.4_

- [ ] 8. 編集機能の実装
  - [x] 8.1 インライン編集機能





    - タイトル編集
    - 優先度編集
    - タグ編集
    - 編集機能の動作確認テスト
    - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

## フェーズ3: 高度な機能の追加

- [ ] 9. フィルタリング機能の実装
  - [x] 9.1 バックエンドフィルタリングAPI





    - ステータス、優先度、タグによるフィルタリング
    - 検索機能
    - フィルタリングAPIの動作確認テスト
    - _要件: 7.2, 8.4_

  - [x] 9.2 フロントエンドフィルターUI





    - フィルターコンポーネント
    - 検索ボックス
    - フィルター機能の動作確認テスト
    - _要件: 7.2, 8.4_

- [ ] 10. メモ機能の実装
  - [x] 10.1 データモデルにメモフィールドを追加





    - memoフィールドの追加
    - メモデータの単体テスト
    - _要件: 8.1_

  - [x] 10.2 メモエディターの実装





    - マークダウンエディター
    - プレビュー機能
    - メモエディターの動作確認テスト
    - _要件: 8.1, 8.2, 8.3_

- [ ] 11. アーカイブ機能の実装
  - [x] 11.1 アーカイブAPIの実装





    - 完了済みtodoのグルーピング
    - 日付順ソート
    - アーカイブAPIの動作確認テスト
    - _要件: 9.1, 9.2, 9.3, 9.5_

  - [x] 11.2 アーカイブビューの実装





    - アーカイブコンポーネント
    - ビュー切り替え機能
    - アーカイブビューの動作確認テスト
    - _要件: 9.1, 9.2, 9.3, 9.4, 9.5_

  - [x] 11.3 コンポーネントのExport方式統一





    - Default ExportからNamed Exportへの変更
    - 全コンポーネントファイルの統一
    - インポート文の修正
    - 変更後の動作確認テスト
    - _要件: コード品質向上、保守性向上_

  - [x] 11.4 タスク一覧ビューのデフォルト表示改善





    - デフォルトで未完了タスクのみ表示
    - 完了済みタスクの表示切り替えオプション
    - フィルター状態の保持
    - デフォルト表示の動作確認テスト
    - _要件: 2.1, 2.2, ユーザビリティ向上_

  - [x] 11.5 アーカイブビューのスタイリング改善





    - 完了済みタスクでもタイトルに打消し線を表示しない
    - アーカイブ専用のスタイリング適用
    - 視覚的な区別の改善
    - アーカイブビューのスタイル確認テスト
    - _要件: 9.4, UI/UX改善_

  - [x] 11.6 アーカイブビューでの編集機能





    - アーカイブされたタスクの編集を可能にする
    - タイトル、メモ、タグの編集機能をモーダルで実装
    - 編集後の状態保持
    - アーカイブビューでの編集機能テスト
    - _要件: 5.1, 5.2, 5.3, 9.4_

  - [x] 11.7 アーカイブビューのフィルター機能





    - タスク一覧と同様のフィルター機能をアーカイブビューに追加
    - 検索、優先度、タグによるフィルタリング機能
    - ステータスフィルターは非表示（すべて完了済みのため）
    - フィルター結果の表示とクリア機能
    - アーカイブフィルター機能の包括的なテスト
    - _要件: 7.2, 8.4, 9.1, 9.2, 9.3_

  - [x] 11.8 共通フィルターフックとContext統合





    - 共通フィルターフック（useFilter）の作成
    - フィルタリングロジックの再利用可能化
    - TodoContextにアーカイブ機能を統合
    - useTodosとuseArchiveフックの共通フィルター使用への移行
    - コードの重複削除と保守性向上
    - _要件: コード品質向上、保守性向上、再利用性向上_

## フェーズ4: UI/UXの改善とエラーハンドリング

- [ ] 12. UIデザインとレイアウトの改善
  - [x] 12.1 ヘッダーコンポーネントの改善





    - アプリケーション名を「Hibi」に変更
    - ヘッダーの縦幅を削減して単一行レイアウトに変更
    - ナビゲーション要素の配置最適化
    - ヘッダー改善の動作確認テスト
    - _要件: UI/UX改善、ブランディング_

  - [x] 12.2 タスク作成フォームのUI簡素化





    - デフォルトでタイトル入力のみ表示
    - 詳細情報（優先度、タグ、メモ）をトグル式の展開パネルに移動
    - 段階的な入力体験の実装
    - 簡素化されたフォームの動作確認テスト
    - _要件: 1.1, 1.2, ユーザビリティ向上_



- [ ] 13. レスポンシブデザインとスタイリングの改善
  - [x] 13.1 Tailwind CSSの導入と設定





    - Tailwind CSS、PostCSS、Autoprefixerのインストール
    - tailwind.config.js、postcss.config.jsの設定
    - Vite設定の更新（PostCSS統合）
    - index.cssにTailwindディレクティブの追加
    - 設定動作確認テスト
    - _要件: 2.3, 6.3_

  - [x] 13.2 既存CSSファイルのTailwind移行





    - App.css、index.cssの基本スタイルをTailwindに変換
    - 各コンポーネントのCSSファイルを段階的にTailwindユーティリティクラスに変換
    - 優先度による色分け（bg-red-100、bg-yellow-100、bg-green-100など）
    - 完了状態の視覚的表現（line-through、opacity-50など）
    - 移行後の見た目確認テスト
    - _要件: 2.3, 6.3_

  - [x] 13.3 レスポンシブデザインの実装





    - モバイルファーストのレイアウト設計
    - ブレークポイント別スタイリング（sm:、md:、lg:プレフィックス）
    - タッチデバイス対応（タップ領域の最適化）
    - 各デバイスサイズでの表示確認テスト
    - _要件: 2.3, 6.3_

  - [ ] 13.4 ローディング状態とエラー表示のTailwindスタイリング
    - Tailwindを使用したローディングスピナーの実装
    - エラーメッセージのスタイリング（bg-red-50、text-red-700など）
    - 成功メッセージのスタイリング（bg-green-50、text-green-700など）
    - アニメーション効果の追加（animate-spin、transition-allなど）
    - ローディング・エラー状態の表示確認テスト
    - _要件: 全般_

- [ ] 14. エラーハンドリングの強化
  - [ ] 14.1 バックエンドエラーハンドリング
    - 詳細なエラー処理
    - 適切なHTTPステータスコード
    - エラーハンドリングの動作確認テスト
    - _要件: 全般_

  - [ ] 14.2 フロントエンドエラーハンドリング
    - ネットワークエラー処理
    - ユーザーフレンドリーなメッセージ
    - エラー処理の動作確認テスト
    - _要件: 全般_

## フェーズ5: 最終調整とデプロイ準備

- [ ] 15. データ永続化の柔軟性向上
  - [ ] 15.1 タスク永続化ファイルの柔軟な選択機能
    - ファイル読み込みディレクトリのパス設定機能
    - 指定ディレクトリ内のJSONファイル一覧表示
    - ファイル選択UIの実装
    - 選択されたファイルからのデータ読み込み機能
    - 複数ファイル間でのデータ切り替え機能
    - ファイル選択機能の動作確認テスト
    - _要件: データ管理の柔軟性向上、ユーザビリティ向上_

- [ ] 16. 最終統合とテスト
  - [ ] 16.1 全機能の統合テスト
    - 機能間の連携確認
    - パフォーマンステスト
    - E2Eテスト（主要ユーザーシナリオ）
    - _要件: 全般_

  - [ ] 16.2 プロダクションビルドの設定
    - ビルド設定の最適化
    - 環境変数の設定
    - ビルド動作確認テスト
    - _要件: 全般_